<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
		.mb {margin-bottom:20px; display: block;}
		input[type="number"] { width:100%; }
	</style>
	<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
</head>
<body>
	<form>
		<div style="width:250px; margin:100px auto;">
				<input type="button" class="mb" id="newInpt" style="float:right;" value="new input">
				<div id="all">
					<span>等级1</span><input class="mb first" type="number" name="">
					<span>等级2</span><input class="mb abled" type="number" name="">
				</div>
				<input type="submit" value="提交" name="">
		</div>
	</form>
	<script type="text/javascript">
		$('#all').on('blur', 'input:not(.first, .blured)', function(){
			
			var pprevEle = $(this).prev().prev();
			var pprevVal = pprevEle.val() - $(this).val();
			if(pprevVal>0){
				pprevEle.val(pprevVal);
				pprevEle.prop('disabled','disabled').css('background','#eee');
				$(this).removeClass('abled').addClass('blured');
			} else {
				alert("输入数字必须小于"+pprevEle.val());
				$(this).val("").focus();
			}
		});
		var i = 3;
		$('#newInpt').on('click',function(){
			
			if($('.abled').length == 0 ){
				$('#all').append('<span>等级'+i+'</span><input class="mb abled" type="number" name="">');
				i++;
			} else {
				alert("一次只能创建一个！");
			}
		})
	</script>
</body>
</html>